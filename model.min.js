function Model(a){if(a.init){klass=a.init}else{klass=function(a){this.attributes=a;for(attribute in a){this[attribute]=a[attribute]}}}for(method_name in a.classMethods){klass[method_name]=a.classMethods[method_name]}klass.prototype=a.instanceMethods;if(a.cacheKey){klass.cacheKey=a.cacheKey;klass._fetch=a.classMethods.fetch;klass.instances={};if(!a.instanceMethods.save){klass.prototype.save=function(a){klass.cache(this);if(a)a(this)}}klass.cache=function(a){klass.instances[a[klass.cacheKey]]=a};klass.fetch=function(a,b,c){if(c){klass._fetch(a,b)}else{instance=klass.instances[a];if(instance){b(instance)}else{klass._fetch(a,b)}}}}return klass}Model.version="0.2"